easyblock = 'PythonBundle'

name = 'sky130'
version = '2024.04'

homepage = 'https://github.com/google/skywater-pdk'
description = "The Skywater130 PDK, installed using Volare"

# Build with foss for BLAS / LAPACK support for numpy
toolchain = { 'name': 'foss', 'version': '2023b' }
toolchainopts = { 'pic': True }

dependencies = [
    ('C2S2PythonPackages', '2024.02' ),
]

exts_default_options = {
    'download_dep_fail': True,
    'sanity_pip_check': True,
    'use_pip': True,
}

exts_list = [

    #---------------------------------------------------------------------
    # volare
    #---------------------------------------------------------------------

    ('h11', '0.14.0', {
        'checksums': ['8f19fbbe99e72420ff35c00b27a34cb9937e902a8b810e2c88300c6f0a3b699d'],
    }),
    ('httpcore', '1.0.5', {
        'checksums': ['34a38e2f9291467ee3b44e89dd52615370e152954ba21721378a87b2960f7a61'],
    }),
    ('sniffio', '1.3.1', {
        'checksums': ['f4324edc670a0f49750a81b895f35c3adb843cca46f0530f79fc1babb23789dc'],
    }),
    ('anyio', '4.3.0', {
        'checksums': ['f75253795a87df48568485fd18cdd2a3fa5c4f7c5be8e5e36637733fce06fed6'],
    }),
    ('httpx', '0.27.0', {
        'checksums': ['a0cb88a46f32dc874e04ee956e4c2764aba2aa228f650b06788ba6bda2962ab5'],
    }),
    ('pcpp', '1.30', {
        'checksums': ['5af9fbce55f136d7931ae915fae03c34030a3b36c496e72d9636cedc8e2543a1'],
    }),
    ('zstandard', '0.22.0', {
        'checksums': ['8226a33c542bcb54cd6bd0a366067b610b41713b64c9abec1bc4533d69f51e70'],
    }),
    ('volare', '0.16.0', {
        'checksums': ['50da5abd82c0f4c9cc4eddf0e4b92bb8ecc61b8b934058134abc383d9b6b962c'],
    }),
]

modextravars = {
    "PDK_ROOT" : "%(installdir)s",
    "PDK"      : "sky130A",
}

moduleclass = 'lang'